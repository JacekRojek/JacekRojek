<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>C# Proxy Design Pattern</title>
  <meta name="description" content="Software development blog">
  <meta name="author" content="Jacek Rojek">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Jacek  Rojek">
  <meta name="twitter:description" content="Software development blog">

  <meta property="og:type" content="article">
  <meta property="og:title" content="Jacek  Rojek">
  <meta property="og:description" content="Software development blog">

  <link rel="apple-touch-icon" sizes="57x57" href="/JacekRojek/images/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/JacekRojek/images/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/JacekRojek/images/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/JacekRojek/images/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/JacekRojek/images/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/JacekRojek/images/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/JacekRojek/images/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/JacekRojek/images/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/JacekRojek/images/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/JacekRojek/images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/JacekRojek/images/favicons/favicon-194x194.png" sizes="194x194">
  <link rel="icon" type="image/png" href="/JacekRojek/images/favicons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/JacekRojek/images/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/JacekRojek/images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/JacekRojek/images/favicons/manifest.json">
  <link rel="shortcut icon" href="/JacekRojek/images/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-TileImage" content="/JacekRojek/images/favicons/mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="/JacekRojek/css/main.css">
  <link rel="canonical" href="https://jacekrojek.github.io/JacekRojek//JacekRojek//2016/c-proxy-design-pattern/">
  <link rel="alternate" type="application/rss+xml" title="Jacek  Rojek" href="/JacekRojek/feed.xml">
</head>


  <body>
    <span class="mobile btn-mobile-menu">
  <i class="icon icon-list btn-mobile-menu__icon"></i>
  <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
</span>
  
<header class="panel-cover" style="background-image: url(/JacekRojek/images/cover.jpg)">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">
        <a href="/JacekRojek/" title="link to home of Jacek  Rojek">
          <img src="/JacekRojek/images/profile.jpg" class="user-image" alt="My Profile Photo">
          <h1 class="panel-cover__title panel-title">Jacek  Rojek</h1>
        </a>
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">Software development blog</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/JacekRojek/#blog" title="link to Jacek  Rojek blog" class="blog-button">Blog</a></li>
            </ul>
          </nav>

          <nav class="cover-navigation navigation--social">
            <ul class="navigation">
          
            
              <!-- Twitter -->
              <li class="navigation__item">
                <a href="http://twitter.com/JRojek93" title="@JRojek93 on Twitter" target="_blank">
                  <i class="icon icon-social-twitter"></i>
                  <span class="label">Twitter</span>
                </a>
              </li>
            

            
              <!-- Facebook -->
              <li class="navigation__item">
                <a href="http://fb.me/jacek.rojek.7" title="jacek.rojek.7 on Facebook" target="_blank">
                  <i class="icon icon-social-facebook"></i>
                  <span class="label">Facebook</span>
                </a>
              </li>
            

            
              <!-- LinkedIn -->
              <li class="navigation__item">
                <a href="https://www.linkedin.com/in/jacek-rojek-b7a396105" title="jacek-rojek-b7a396105 on LinkedIn" target="_blank">
                  <i class="icon icon-social-linkedin"></i>
                  <span class="label">LinkedIn</span>
                </a>
              </li>
            

            
              <!-- GitHub -->
              <li class="navigation__item">
                <a href="https://www.github.com/JacekRojek" title="JacekRojek on GitHub" target="_blank">
                  <i class="icon icon-social-github"></i>
                  <span class="label">GitHub</span>
                </a>
              </li>
            

            
              <!-- Email -->
              <li class="navigation__item">
                <a href="mailto:j.rojek19@gmail.com" title="Email j.rojek19@gmail.com" target="_blank">
                  <i class="icon icon-mail"></i>
                  <span class="label">Email</span>
                </a>
              </li>
            

            <!-- RSS -->
            <li class="navigation__item">
              <a href="/JacekRojek/feed.xml" title="Subscribe" target="_blank">
                <i class="icon icon-rss"></i>
                <span class="label">RSS</span>
              </a>
            </li>
          
            </ul>
          </nav>

        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>


    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <article class="post-container post-container--single">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="24 Jun 2016" class="post-meta__date date">24 Jun 2016</time> &#8226; <span class="post-meta__tags">on </span>
    </div>
    <h1 class="post-title">C# Proxy Design Pattern</h1>
  </header>

  <section class="post">
    <p><a href="http://pastebin.com/ZeCkrGDd">Link To source Code for this article</a></p>

<p>This pattern is used to restrict access to Real Subject Class by creating Proxy gate, that implement the same interface as Real Subject and extends the interface methods to perform additional operations before executing method in Real Subject. Proxy Design Pattern acts as main point of contact for the resources that should not be available directly to the client code.</p>

<p>To demonstrate the implementation of this pattern I’ll use an example of in game equipment where access to the items is restricted by Proxy.</p>

<p> </p>
<h3>UML diagram:</h3>
<p><img class="alignleft size-full wp-image-3117" src="https://indiedevart.files.wordpress.com/2016/06/l4.png" alt="l4" width="608" height="393" /></p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p> </p>

<p>Let’s begin by creating Interface that will be implemented by both Classes.</p>

<p>~~~ c#  public interface IEquipment
{
  string GetData();
~~~  <br />
Nothing fancy, just to demonstrate the idea behind the pattern. Subject Interface provides and interface that both actual class and proxy class will implement. this way the proxy can easily be used as substitute for the real subject.</p>

<p>Next step is to create Equipment Class that is our Real Subject</p>

<p>~~~ c#   public class Equipment : IEquipment
{
  string itemName;
  public int intemId;
  //Constructor
  public Equipment()
  {
    itemName = "Iron Sword";
    intemId = 4;
  }</p>

<p>public string GetData()
  {
    return (itemName + " ID: "+ intemId.ToString());
  }
~~~  <br />
This class also contains one item with name and ID, which is represented just by fields, in more real example it would be list of Items. We assign new values when instance of this class is created.</p>

<p>Now we need to create Proxy that will have a reference to the Real Subject  and will modify the GetData() method to restrict the access.</p>

<div class="language-c# highlighter-rouge"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">EquipmentProxy</span> <span class="p">:</span> <span class="n">IEquipment</span>
<span class="p">{</span>
  <span class="n">Equipment</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Equipment</span><span class="p">();</span>

  <span class="k">public</span> <span class="kt">string</span> <span class="nf">GetData</span><span class="p">()</span>
  <span class="p">{</span>
     <span class="k">if</span> <span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">intemId</span> <span class="p">==</span> <span class="m">4</span><span class="p">)</span>
         <span class="k">return</span> <span class="n">client</span><span class="p">.</span><span class="nf">GetData</span><span class="p">();</span>

     <span class="k">else</span>
         <span class="k">return</span> <span class="p">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">Item</span> <span class="k">is</span> <span class="n">not</span> <span class="k">in</span> <span class="n">inventory</span><span class="p">&amp;</span><span class="n">quot</span><span class="p">;;</span>
   <span class="p">}</span>
 <span class="p">~~~</span>    
<span class="n">Id</span> <span class="k">is</span> <span class="n">hard</span> <span class="n">typed</span> <span class="n">and</span> <span class="k">set</span> <span class="n">to</span> <span class="m">4</span> <span class="n">just</span> <span class="k">for</span> <span class="n">the</span> <span class="n">example</span><span class="p">.</span> <span class="n">The</span><span class="err"> </span><span class="n">application</span> <span class="n">will</span> <span class="n">use</span> <span class="k">this</span> <span class="k">class</span> <span class="nc">and</span> <span class="k">this</span> <span class="k">class</span> <span class="nc">will</span> <span class="n">internally</span> <span class="n">take</span> <span class="n">care</span> <span class="n">of</span> <span class="n">talking</span> <span class="n">to</span> <span class="n">the</span> <span class="n">RealSubject</span> <span class="n">and</span> <span class="k">get</span> <span class="n">the</span> <span class="n">data</span> <span class="n">to</span> <span class="n">the</span> <span class="n">local</span> <span class="n">application</span><span class="p">.</span>

<span class="n">Last</span> <span class="n">part</span> <span class="n">of</span> <span class="n">the</span> <span class="n">application</span> <span class="k">is</span> <span class="n">Client</span> <span class="n">site</span><span class="p">,</span> <span class="k">where</span> <span class="n">Instance</span> <span class="n">of</span> <span class="n">the</span> <span class="n">proxy</span> <span class="k">is</span> <span class="n">created</span> <span class="n">and</span> <span class="nf">GetData</span><span class="p">()</span> <span class="n">method</span> <span class="k">is</span> <span class="n">called</span><span class="p">.</span>

<span class="p">~~~</span> <span class="n">c</span><span class="err">#</span>  <span class="k">class</span> <span class="nc">Program</span>
<span class="p">{</span>
  <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
  <span class="p">{</span>
     <span class="n">EquipmentProxy</span> <span class="n">proxy</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EquipmentProxy</span><span class="p">();</span>
     <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">Data</span> <span class="k">from</span> <span class="n">Proxy</span><span class="p">:</span> <span class="p">&amp;</span><span class="n">quot</span><span class="p">;+</span> <span class="n">proxy</span><span class="p">.</span><span class="nf">GetData</span><span class="p">());</span>

     <span class="n">Console</span><span class="p">.</span><span class="nf">ReadKey</span><span class="p">();</span>
  <span class="p">}</span>
</code></pre>
</div>

<p> </p>

<p>To conclude, The proxy design pattern is used to provide a surrogate object, which references to other object. Proxy pattern involves a class, called proxy class, which represents functionality of another class. I hope you learned something new, in next article I’ll cover another design pattern. Stay Awesome!</p>

<p> </p>

<p> </p>

<p> </p>

  </section>
  
  <script>

</script>

</article>



      </div>

      <footer class="footer">
  <span class="footer__copyright">&copy; 2016 Jacek Rojek. All rights reserved.</span>
</footer> 

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript" src="/JacekRojek/js/main.js"></script>

    </div>
  </body>
</html>