<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Unity Linear Interpolation</title>
  <meta name="description" content="Software development blog">
  <meta name="author" content="Jacek Rojek">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="JacekRojek">
  <meta name="twitter:description" content="Software development blog">

  <meta property="og:type" content="article">
  <meta property="og:title" content="JacekRojek">
  <meta property="og:description" content="Software development blog">

  <link rel="apple-touch-icon" sizes="57x57" href="/JacekRojek/images/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/JacekRojek/images/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/JacekRojek/images/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/JacekRojek/images/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/JacekRojek/images/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/JacekRojek/images/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/JacekRojek/images/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/JacekRojek/images/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/JacekRojek/images/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/JacekRojek/images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/JacekRojek/images/favicons/favicon-194x194.png" sizes="194x194">
  <link rel="icon" type="image/png" href="/JacekRojek/images/favicons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/JacekRojek/images/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/JacekRojek/images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/JacekRojek/images/favicons/manifest.json">
  <link rel="shortcut icon" href="/JacekRojek/images/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-TileImage" content="/JacekRojek/images/favicons/mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="/JacekRojek/css/main.css">
  <link rel="canonical" href="https://jacekrojek.github.io/JacekRojek//JacekRojek//2016/unity-linear-interpolation/">
  <link rel="alternate" type="application/rss+xml" title="JacekRojek" href="/JacekRojek/feed.xml">
</head>


  <body>
    <span class="mobile btn-mobile-menu">
  <i class="icon icon-list btn-mobile-menu__icon"></i>
  <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
</span>
  
<header class="panel-cover" style="background-image: url(/JacekRojek/images/cover.jpg)">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">
        <a href="/JacekRojek/" title="link to home of JacekRojek">
          <img src="/JacekRojek/images/profile.jpg" class="user-image" alt="My Profile Photo">
          <h1 class="panel-cover__title panel-title">JacekRojek</h1>
        </a>
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">Software development blog</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/JacekRojek/#blog" title="link to JacekRojek blog" class="blog-button">Blog</a></li>
            </ul>
          </nav>

          <nav class="cover-navigation navigation--social">
            <ul class="navigation">
          
            
              <!-- Twitter -->
              <li class="navigation__item">
                <a href="http://twitter.com/JRojek93" title="@JRojek93 on Twitter" target="_blank">
                  <i class="icon icon-social-twitter"></i>
                  <span class="label">Twitter</span>
                </a>
              </li>
            

            
              <!-- Facebook -->
              <li class="navigation__item">
                <a href="http://fb.me/jacek.rojek.7" title="jacek.rojek.7 on Facebook" target="_blank">
                  <i class="icon icon-social-facebook"></i>
                  <span class="label">Facebook</span>
                </a>
              </li>
            

            
              <!-- LinkedIn -->
              <li class="navigation__item">
                <a href="https://www.linkedin.com/in/jacek-rojek-b7a396105" title="jacek-rojek-b7a396105 on LinkedIn" target="_blank">
                  <i class="icon icon-social-linkedin"></i>
                  <span class="label">LinkedIn</span>
                </a>
              </li>
            

            
              <!-- GitHub -->
              <li class="navigation__item">
                <a href="https://www.github.com/JacekRojek" title="JacekRojek on GitHub" target="_blank">
                  <i class="icon icon-social-github"></i>
                  <span class="label">GitHub</span>
                </a>
              </li>
            

            
              <!-- Email -->
              <li class="navigation__item">
                <a href="mailto:j.rojek19@gmail.com" title="Email j.rojek19@gmail.com" target="_blank">
                  <i class="icon icon-mail"></i>
                  <span class="label">Email</span>
                </a>
              </li>
            

            <!-- RSS -->
            <li class="navigation__item">
              <a href="/JacekRojek/feed.xml" title="Subscribe" target="_blank">
                <i class="icon icon-rss"></i>
                <span class="label">RSS</span>
              </a>
            </li>
          
            </ul>
          </nav>

        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>


    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <article class="post-container post-container--single">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="6 Jun 2016" class="post-meta__date date">6 Jun 2016</time> &#8226; <span class="post-meta__tags">on </span>
    </div>
    <h1 class="post-title">Unity Linear Interpolation</h1>
  </header>

  <section class="post">
    <p>Linear interpolation has many uses. I’ll try to cover the most  useful ones. This paragraph may be confusing, but everything will be explained in details later. Important thing to point out at the beginning, online tutorial tend to have two different approaches to this subject. First, like in official video, shows example of Lerp() function which is <strong>not</strong> linear. Another approach is to use percentage as time parameter. Lerp() can be used together with Vector3 and Math class. It’s common to use Math.Lerp() to change parameters like light intensity, colour or sprite transparency. While Vector3 is responsible for 3d movement. Lets start with example of changing light intensity in non linear way using Lerp()function.</p>
<h2>Math.Lerp()</h2>
<p>The Mathf.Lerp function takes 3 float parameters: one representing the value to interpolate from; another representing the value to interpolate to and a final float representing how far to interpolate. In this case, the interpolation value is 0.5 which means 50%.</p>
<pre class=" language-csharp"><code class=" language-csharp"><span class="token keyword">float</span> result <span class="token operator">=</span> <span class="token docs-static">Mathf.Lerp</span> (0<span class="token number">f</span>, 8<span class="token number">f</span>,<span class="token number"> 0</span>.<span class="token number">5f</span>);</code></pre>
<p>This one returns 4, (0+8)*0.5.</p>

<p>Lets take a look at mentioned earlier example</p>
<pre>using UnityEngine;
using System.Collections;

public class LerpTutorial : MonoBehaviour {
 public Light light2;

 void Start () {
//We set intensity of light to 0
 light2.intensity = 0f;
 }
 
 void Update () {
//Two ways of changing the last parameter
 //light2.intensity = Mathf.Lerp(light2.intensity, 8f, 0.01f );
 light2.intensity = Mathf.Lerp(light2.intensity, 8f, 0.01f*Time.deltaTime);

 }
}</pre>
<p>This one is changing the intensity of light, of course. As a time parameter we can pass the float value, what  changes the value every frame. Float value should be very small to notice the difference. 8f is maximum parameter for intensity, so don’t try putting larger values there, or do it at your own risk. Other way is to multiply the value by the Time.delta time what makes it change every second instead of every frame. To speed up the process I incensed the float value 10 times.</p>

<p>So this is an example of non linear transition. Each time call this method the minimum value is different. Last frame output becomes next frame input. It reminds me about recursive functions. You can learn more about them <a href="https://indiedevart.wordpress.com/2016/05/26/recursive-function/">here</a>. this way result if this method will slowly  approach the maximum value which in not linear.</p>
<h2>Vector3.Lerp();</h2>
<p>To illustrate linear transition lets use Vector3 class. Interpolates between the vectors a and b by the interpolant t. The parameter t is clamped to the range [0, 1]. This is most commonly used to find a point some fraction of the way along a line between two endpoints (e.g. to move an object gradually between those points). Same thing as Math class but with vectors. Takes X of a and b vectors and return point between them, the same for rest of axis.</p>
<pre id="crayon-5755bfb10a6b8005276959-1" class="crayon-line">using UnityEngine;
using System.Collections;
using UnityEngine.UI;

public class LerpTutorial : MonoBehaviour {
 public float timeTakenDuringLerp = 1f;
 private bool isLerping;
 private Vector3 startPosition;
 private Vector3 endPosition;
 private float timeStartedLerping;

 void Update()
 {
 isLerping = true;
 timeStartedLerping = Time.time;
 startPosition = transform.position;
 endPosition = new Vector3(0, 0, 0);
 }

 void FixedUpdate()
 {
 if (isLerping)
 {
 float timeSinceStarted = Time.time - timeStartedLerping;
 float percentage = timeSinceStarted / timeTakenDuringLerp;
 transform.position = Vector3.Lerp(startPosition, endPosition, percentage);

 if (percentage &gt;= 1.0f)
 {
 isLerping = false;
 }
 }
 }
}</pre>
<p>This way we have fixed start and end position, and we change the value of the time based on the Time.deltatime. And we execute it FixedUpdate() which means every second.</p>

<p>This process will result in linear transformation.</p>

<p>You can experiment with time value by setting it to something different than constant.</p>
<pre id="crayon-5755bfb10a6b8005276959-1" class="crayon-line">float percentage = timeSinceStarted / timeTakenDuringLerp;<code>
percentage = Mathf.Sin(t * Mathf.PI * 0.5f);</code></pre>
<p>This will produce totally different result. I encourage you to try this method using function of time as a parameter.</p>

<p>Both ways of using this function can be useful, we can change the start parameter or time over time. Each way we have slightly different result. Lerp() method can be called not only from Update method using Coroutines. I wrote article about it <a href="https://indiedevart.wordpress.com/2016/06/05/unity-coroutines/">here</a>. Stay Awesome!</p>

  </section>
  
</article>



      </div>

      <footer class="footer">
  <span class="footer__copyright">&copy; 2016 Jacek Rojek. All rights reserved.</span>
</footer> 

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript" src="/JacekRojek/js/main.js"></script>

    </div>
  </body>
</html>